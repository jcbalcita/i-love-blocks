{"version":3,"sources":["webpack:///webpack/bootstrap e3f2f58d703299f78c5f","webpack:///./lib/iloveblocks.js","webpack:///./lib/game.js","webpack:///./lib/block.js","webpack:///./lib/bullet.js","webpack:///./lib/cannon.js","webpack:///./lib/game_view.js"],"names":["document","addEventListener","canvas","getElementById","ctx","getContext","fillStyle","fillRect","width","height","game","start","Game","blocks","bullets","cannon","numBlocks","addBlocks","clearRect","forEach","block","draw","bullet","delta","move","pos","positions","i","push","size","NORMAL_FRAME_TIME_DELTA","Block","options","color","count","vel","Bullet","timeDelta","velocityScale","offsetX","offsetY","Cannon","angle","addBullet","direction","GameView","key","fireBullet","bindKeyHandlers","lastTime","requestAnimationFrame","animate","bind","time","step"],"mappings":"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","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e3f2f58d703299f78c5f","import Game from './game';\nimport GameView from './game_view';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  var canvas = document.getElementById(\"canvas\");\n  var ctx = canvas.getContext(\"2d\");\n  ctx.fillStyle = \"black\";\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n\n  const game = new Game();\n  new GameView(game, ctx).start();\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/iloveblocks.js","import Block from './block';\nimport Bullet from './bullet';\nimport Cannon from './cannon';\n\nclass Game {\n  constructor() {\n    this.blocks = [];\n    this.bullets = [];\n    this.cannon = new Cannon({game: this});\n    this.numBlocks = 4;\n\n    this.addBlocks();\n  }\n\n  draw(ctx) {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.fillStyle = 'black';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n    this.blocks.forEach(block => {\n      block.draw(ctx);\n    });\n\n    this.cannon.draw(ctx);\n\n    this.bullets.forEach(bullet => {\n      bullet.draw(ctx);\n    });\n  }\n\n  step(delta) {\n    this.bullets.forEach(bullet => {\n      bullet.move(delta);\n    });\n\n    this.blocks.forEach(block => {\n      block.pos[1] += 0.2;\n    });\n  }\n\n  addBlocks() {\n    const positions = [[10, 0], [150, 0], [300, 0], [450, 0]];\n\n    for (let i = 0; i < this.numBlocks; i++) {\n      this.blocks.push(new Block({pos: positions[i], size: 50}));\n    }\n  }\n\n  addBullet(bullet) {\n    this.bullets.push(bullet);\n  }\n\n}\n\nexport default Game;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/game.js","const NORMAL_FRAME_TIME_DELTA = 1000/60;\n\nclass Block {\n  constructor(options) {\n    this.pos = options.pos;\n    this.size = options.size;\n    this.color = 'red';\n    this.count = 0;\n    this.vel = [0, -1]\n  }\n\n  draw(ctx) {\n    ctx.fillStyle = this.color;\n    ctx.fillRect(this.pos[0], this.pos[1], this.size, this.size);\n  }\n\n\n}\n\nexport default Block;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/block.js","const NORMAL_FRAME_TIME_DELTA = 1000/60;\n\nclass Bullet {\n  constructor(options) {\n    this.pos = options.pos;\n    this.vel = [0, -2];\n    this.size = [10, 4];\n    this.game = options.game;\n    this.color = 'white';\n  }\n\n  draw(ctx) {\n    ctx.fillStyle = this.color;\n    ctx.fillRect(this.pos[0], this.pos[1], this.size[0], this.size[1]);\n  }\n\n  move(timeDelta) {\n  //timeDelta is number of milliseconds since last move\n  //if the computer is busy the time delta will be larger\n  //in this case the MovingObject should move farther in this frame\n  //velocity of object is how far it should move in 1/60th of a second\n  const velocityScale = timeDelta / NORMAL_FRAME_TIME_DELTA,\n      offsetX = this.vel[0] * velocityScale,\n      offsetY = this.vel[1] * velocityScale;\n\n  this.pos = [this.pos[0] + offsetX, this.pos[1] + offsetY];\n  }\n}\n\nexport default Bullet;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/bullet.js","import Bullet from './bullet';\n\nclass Cannon {\n  constructor(options) {\n    this.angle = [];\n    this.pos = [320, 450];\n    this.game = options.game;\n  }\n\n  draw(ctx) {\n    ctx.fillStyle = 'white';\n    ctx.fillRect(this.pos[0], this.pos[1], 20, 50);\n  }\n\n  fireBullet() {\n    const bullet = new Bullet({\n      pos: this.pos,\n      vel: [0, 1],\n      game: this.game\n    });\n\n    this.game.addBullet(bullet);\n  }\n\n  move(direction) {\n    this.pos[0] += direction\n    if (this.pos[0] > canvas.width) {\n      this.pos = [0, 450];\n    } else if (this.pos[0] < 0 ) {\n      this.pos[0] = canvas.width;\n    }\n  }\n\n\n}\n\nexport default Cannon;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/cannon.js","class GameView {\n  constructor(game, ctx) {\n    this.ctx = ctx;\n    this.game = game;\n    this.cannon = game.cannon\n  }\n\n  bindKeyHandlers() {\n    key(\"space\", () => { this.cannon.fireBullet() });\n    key(\"a\", () => { this.cannon.move(-20) });\n    key(\"d\", () => { this.cannon.move(20) });\n  }\n\n  start() {\n    this.bindKeyHandlers();\n    this.lastTime = 0;\n    //start the animation\n    requestAnimationFrame(this.animate.bind(this));\n  }\n\n  animate(time) {\n    const timeDelta = time - this.lastTime;\n\n    this.game.step(timeDelta);\n    this.game.draw(this.ctx);\n    this.lastTime = time;\n\n    //every call to animate requests causes another call to animate\n    requestAnimationFrame(this.animate.bind(this));\n  }\n\n}\n\nexport default GameView;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/game_view.js"],"sourceRoot":""}