{"version":3,"sources":["webpack:///webpack/bootstrap 569458cf4fec4ca93ba8","webpack:///./lib/iloveblocks.js","webpack:///./lib/game.js","webpack:///./lib/block.js","webpack:///./lib/bullet.js","webpack:///./lib/cannon.js","webpack:///./lib/game_view.js"],"names":["document","addEventListener","canvas","getElementById","ctx","getContext","game","intro","Game","blocks","bullets","cannon","score","gameOver","firstSet","clearRect","width","height","fillStyle","fillRect","forEach","block","draw","bullet","delta","move","hasHitBottom","i","length","j","isCollidedWith","pos","size","remove","addBlocks","Math","random","addBossBlock","positions","position","floor","push","count","vel","posX1","object","splice","indexOf","bgBlocks","map","NORMAL_FRAME_TIME_DELTA","Block","options","color","randomColor","hexDigits","play","addBabyBlock","pause","window","setTimeout","timeDelta","velocityScale","offsetX","offsetY","Bullet","Cannon","img","drawImage","addBullet","direction","GameView","key","fireBullet","font","fillText","backgroundBlocks","e","keyCode","start","location","reload","gameplay","currentTime","bindKeyHandlers","lastTime","requestAnimationFrame","animate","bind","time","step"],"mappings":"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","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 569458cf4fec4ca93ba8","import Game from './game';\nimport GameView from './game_view';\n\n\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  var canvas = document.getElementById(\"canvas\");\n  var ctx = canvas.getContext(\"2d\");\n\n  const game = new Game();\n  new GameView(game, ctx).intro()\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/iloveblocks.js","import Block from './block';\nimport Bullet from './bullet';\nimport Cannon from './cannon';\n\nclass Game {\n  constructor() {\n    this.blocks = [];\n    this.bullets = [];\n    this.cannon = new Cannon({game: this});\n    this.score = 0;\n    this.gameOver = false;\n    this.firstSet = true;\n  }\n\n  draw(ctx) {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.fillStyle = 'black';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n    this.blocks.forEach(block => {\n      block.draw(ctx);\n    });\n\n    this.cannon.draw(ctx);\n\n    this.bullets.forEach(bullet => {\n      bullet.draw(ctx);\n    });\n  }\n\n  step(delta) {\n    // move objects\n    this.bullets.forEach(bullet => {\n      bullet.move(delta);\n    });\n\n    this.blocks.forEach(block => {\n      block.move(delta);\n      block.hasHitBottom();\n    });\n\n    //check collisions\n    for (var i = 0; i < this.blocks.length; i++) {\n      for (var j = 0; j < this.bullets.length; j++) {\n        let block = this.blocks[i];\n        let bullet = this.bullets[j];\n\n        if (block) {\n          block.isCollidedWith(bullet)\n        }\n\n        if (bullet.pos[1] - bullet.size[1] < 0) {\n          this.remove(bullet);\n        }\n      }\n    }\n\n    if (this.firstSet) {\n      this.addBlocks();\n      this.firstSet = false;\n    }\n\n    if (this.blocks.length === 0) {\n      if (Math.random() < 0.66) {\n        this.addBossBlock();\n      } else {\n        this.addBlocks();\n      }\n    }\n  }\n\n  addBlocks() {\n    const positions = [[50, -20], [200, -20], [350, -20], [500, -20]];\n    const position = Math.floor(Math.random(5));\n\n    for (let i = 0; i < 4; i++) {\n      this.blocks.push(new Block({pos: positions[i], size: 50, game: this}));\n    }\n  }\n\n  addBossBlock() {\n    this.blocks.push(new Block({count: 1400, pos: [50, -400], size: 400, vel: [0, 0.48], game: this}));\n  }\n\n  addBlock() {\n    const positions = [[50, 0], [200, 0], [350, 0], [500, 0]];\n    const position = Math.floor(Math.random(5));\n\n    this.blocks.push(new Block({pos: positions[position], size: 50, game: this}));\n  }\n\n  addBabyBlock() {\n    let posX1 = Math.floor(Math.random() * 500);\n        posX1 = posX1 < 50 ? 50 : posX1\n\n    this.blocks.push(new Block({pos: [posX1, -20], vel: [0, 1.2], size: 25, game: this, count: 1}));\n  }\n\n  addBullet(bullet) {\n    this.bullets.push(bullet);\n  }\n\n  remove(object) {\n    if (object instanceof Bullet) {\n      this.bullets.splice(this.bullets.indexOf(object), 1);\n    } else if (object instanceof Block) {\n      this.blocks.splice(this.blocks.indexOf(object), 1);\n    } else {\n      throw \"wtf?\";\n    }\n  }\n\n  backgroundBlocks(ctx) {\n    const positions = [[60, 150], [210, 150], [360, 150], [510, 150],\n                       [60, 260], [210, 260], [360, 260], [510, 260],\n                       [60, 370], [210, 370], [360, 370], [510, 370]];\n\n    const bgBlocks = positions.map(position => new Block({pos: position, game: this, size: 50}));\n\n    bgBlocks.forEach(block => block.draw(ctx));\n  }\n\n}\n\nexport default Game;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/game.js","const NORMAL_FRAME_TIME_DELTA = 1000/60;\n\nclass Block {\n  constructor(options) {\n    this.pos = options.pos || [10, 10];\n    this.size = options.size;\n    this.color = this.randomColor();\n    this.count = options.count || 4;\n    this.game = options.game;\n    this.vel = options.vel || [0, 0.5];\n  }\n\n  randomColor() {\n    const hexDigits = \"0123456789ABCDEF\";\n    let color = \"#\";\n    for (let i = 0; i < 3; i++) {\n      color += hexDigits[Math.floor((Math.random() * 16))];\n    }\n\n    return color;\n  }\n\n  draw(ctx) {\n    ctx.fillStyle = this.color;\n    ctx.fillRect(this.pos[0], this.pos[1], this.size, this.size);\n  }\n\n  isCollidedWith(bullet) {\n    if (this.pos[0] < bullet.pos[0] + bullet.size &&\n     this.pos[0] + this.size > bullet.pos[0] &&\n     this.pos[1] + this.size > bullet.pos[1]) {\n       this.count -= 1;\n       this.game.score += 10;\n       document.getElementById(\"enemy-damage\").play();\n\n      if (this.count > 0) {\n        this.color = this.randomColor();\n      } else if (this.count === 0 && this.size >= 50) {\n        this.game.addBabyBlock();\n        if (this.game.score > 10000) {\n          this.game.addBabyBlock\n        }\n        this.game.remove(this);\n      } else {\n        this.game.remove(this);\n      }\n\n      if (this.count > 50 && this.count % 200 === 0) {\n        this.game.addBabyBlock();\n        this.game.addBabyBlock();\n      }\n\n      if (this.size < 50){\n        this.game.remove(bullet);\n      }\n     }\n  }\n\n  hasHitBottom() {\n    if ((this.pos[1] + this.size) > 420) {\n      document.getElementById(\"gameplay\").pause();\n      document.getElementById(\"game-over\").play();\n      window.setTimeout(3000);\n      this.game.gameOver = true;\n    }\n  }\n\n  move(timeDelta) {\n  //timeDelta is number of milliseconds since last move\n  //if the computer is busy the time delta will be larger\n  //in this case the MovingObject should move farther in this frame\n  //velocity of object is how far it should move in 1/60th of a second\n  const velocityScale = timeDelta / NORMAL_FRAME_TIME_DELTA,\n      offsetX = this.vel[0] * velocityScale,\n      offsetY = this.vel[1] * velocityScale;\n\n  this.pos = [this.pos[0] + offsetX, this.pos[1] + offsetY];\n  }\n\n\n}\n\nexport default Block;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/block.js","const NORMAL_FRAME_TIME_DELTA = 1000/60;\n\nclass Bullet {\n  constructor(options) {\n    this.pos = options.pos;\n    this.vel = [0, -2];\n    this.size = 9;\n    this.game = options.game;\n    this.color = 'white';\n  }\n\n  draw(ctx) {\n    ctx.fillStyle = this.color;\n    ctx.fillRect(this.pos[0], this.pos[1], this.size, this.size);\n  }\n\n  move(timeDelta) {\n  //timeDelta is number of milliseconds since last move\n  //if the computer is busy the time delta will be larger\n  //in this case the MovingObject should move farther in this frame\n  //velocity of object is how far it should move in 1/60th of a second\n    const velocityScale = timeDelta / NORMAL_FRAME_TIME_DELTA,\n      offsetX = this.vel[0] * velocityScale,\n      offsetY = this.vel[1] * velocityScale;\n\n    this.pos = [this.pos[0] + offsetX, this.pos[1] + offsetY];\n\n    if (this.pos[1] < 0) {\n      this.game.remove(this);\n    }\n  }\n}\n\nexport default Bullet;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/bullet.js","import Bullet from './bullet';\n\nclass Cannon {\n  constructor(options) {\n    this.pos = [320, 400];\n    this.game = options.game;\n  }\n\n  draw(ctx) {\n    const img = document.getElementById('char');\n    ctx.drawImage(img, this.pos[0], this.pos[1]);\n  }\n\n  fireBullet() {\n    const bullet = new Bullet({\n      pos: [this.pos[0] + 35, this.pos[1]],\n      vel: [0, 1],\n      game: this.game\n    });\n\n    document.getElementById(\"bullet\").play();\n    this.game.addBullet(bullet);\n  }\n\n  move(direction) {\n    this.pos[0] += direction\n    if (this.pos[0] > canvas.width) {\n      this.pos[0] = 0;\n    } else if (this.pos[0] < 0 ) {\n      this.pos[0] = canvas.width;\n    }\n  }\n\n\n}\n\nexport default Cannon;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/cannon.js","class GameView {\n  constructor(game, ctx) {\n    this.ctx = ctx;\n    this.game = game;\n    this.cannon = game.cannon\n  }\n\n  bindKeyHandlers() {\n    key(\"space\", () => { this.cannon.fireBullet() });\n    key(\"a\", () => { this.cannon.move(-20) });\n    key(\"d\", () => { this.cannon.move(20) });\n  }\n\n  intro() {\n    document.getElementById(\"intro-music\").play();\n    this.ctx.fillStyle = \"black\";\n    this.ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n    this.ctx.font = \"48px sans-serif\";\n    this.ctx.fillStyle = \"white\";\n    this.ctx.fillText(\"Press Enter to Start\", 100, 100);\n\n\n    this.game.backgroundBlocks(this.ctx);\n\n    document.addEventListener(\"keydown\", e => {\n      if (e.keyCode === 13) {\n        document.getElementById(\"intro-music\").pause();\n        this.game.blocks = [];\n        this.start();\n      }\n    });\n  }\n\n  gameOver() {\n    this.ctx.fillStyle = \"black\";\n    this.ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n    this.ctx.font = \"24px sans-serif\";\n    this.ctx.fillStyle = \"white\";\n    this.ctx.fillText(\"GAME OVER! Enter to restart\", 100, 50);\n    this.ctx.fillStyle = \"red\";\n    this.ctx.fillText(`Your score: ${this.game.score}`, 100, 100);\n\n    document.addEventListener(\"keydown\", e => {\n      if (e.keyCode === 13) {\n        location.reload();\n      }\n    });\n  }\n\n  start() {\n    this.ctx.fillStyle = \"black\";\n    this.ctx.fillRect(0, 0, canvas.width, canvas.height);\n    const gameplay = document.getElementById(\"gameplay\")\n\n    gameplay.addEventListener('ended', function() {\n      this.currentTime = 0;\n      this.play();\n    }, false);\n    gameplay.play();\n\n    this.game.gameOver = false;\n    this.bindKeyHandlers();\n    this.lastTime = 0;\n    //start the animation\n    requestAnimationFrame(this.animate.bind(this));\n  }\n\n  animate(time) {\n    if (this.game.gameOver) {\n      return this.gameOver();\n    }\n\n    const timeDelta = time - this.lastTime;\n    this.game.step(timeDelta);\n    this.game.draw(this.ctx);\n    this.ctx.font = \"16px sans-serif\";\n    this.ctx.fillStyle = \"white\";\n    this.ctx.fillText(`${this.game.score}`, 500, 40);\n    this.lastTime = time;\n    //every call to animate requests causes another call to animate\n    requestAnimationFrame(this.animate.bind(this));\n  }\n}\n\nexport default GameView;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/game_view.js"],"sourceRoot":""}