{"version":3,"sources":["webpack:///webpack/bootstrap ecd972e17e8b6ed7c824","webpack:///./lib/iloveblocks.js","webpack:///./lib/game.js","webpack:///./lib/block.js","webpack:///./lib/bullet.js","webpack:///./lib/cannon.js","webpack:///./lib/game_view.js"],"names":["document","addEventListener","canvas","getElementById","ctx","getContext","fillStyle","fillRect","width","height","font","fillText","game","gameView","drawBlocks","backgroundBlocks","window","setInterval","bind","e","keyCode","start","Game","blocks","bullets","cannon","score","addBlocks","clearRect","forEach","block","draw","bullet","delta","move","i","length","j","isCollidedWith","pos","size","remove","Math","random","addBossBlock","positions","position","floor","push","count","object","splice","indexOf","bgBlocks","map","NORMAL_FRAME_TIME_DELTA","Block","options","color","randomColor","vel","hexDigits","timeDelta","velocityScale","offsetX","offsetY","Bullet","Cannon","img","drawImage","addBullet","direction","GameView","key","fireBullet","bindKeyHandlers","lastTime","requestAnimationFrame","animate","time","step"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;ACtCA;;;;AACA;;;;;;AAIAA,UAASC,gBAAT,CAA0B,kBAA1B,EAA8C,YAAM;AAClD,OAAIC,SAASF,SAASG,cAAT,CAAwB,QAAxB,CAAb;AACA,OAAIC,MAAMF,OAAOG,UAAP,CAAkB,IAAlB,CAAV;AACAD,OAAIE,SAAJ,GAAgB,OAAhB;AACAF,OAAIG,QAAJ,CAAa,CAAb,EAAgB,CAAhB,EAAmBL,OAAOM,KAA1B,EAAiCN,OAAOO,MAAxC;;AAEAL,OAAIM,IAAJ,GAAW,iBAAX;AACAN,OAAIE,SAAJ,GAAgB,OAAhB;AACAF,OAAIO,QAAJ,CAAa,sBAAb,EAAqC,GAArC,EAA0C,GAA1C;;AAEA,OAAMC,OAAO,oBAAb;AACA,OAAMC,WAAW,wBAAaD,IAAb,EAAmBR,GAAnB,CAAjB;;AAEA,OAAMU,aAAa,SAAbA,UAAa,MAAO;AACxBF,UAAKG,gBAAL,CAAsBX,GAAtB;AACD,IAFD;;AAIAY,UAAOC,WAAP,CAAmBH,WAAWI,IAAX,YAAsBd,GAAtB,CAAnB,EAA+C,GAA/C;;AAGAJ,YAASC,gBAAT,CAA0B,SAA1B,EAAqC,aAAK;AACxC,SAAIkB,EAAEC,OAAF,KAAc,EAAlB,EAAsB;AACpBP,gBAASQ,KAAT;AACD;AACF,IAJD;AAKD,EAzBD,E;;;;;;;;;;;;;;ACLA;;;;AACA;;;;AACA;;;;;;;;KAEMC,I;AACJ,mBAAc;AAAA;;AACZ,UAAKC,MAAL,GAAc,EAAd;AACA,UAAKC,OAAL,GAAe,EAAf;AACA,UAAKC,MAAL,GAAc,qBAAW,EAACb,MAAM,IAAP,EAAX,CAAd;AACA,UAAKc,KAAL,GAAa,CAAb;;AAEA,UAAKC,SAAL;AACD;;;;0BAEIvB,G,EAAK;AACRA,WAAIwB,SAAJ,CAAc,CAAd,EAAiB,CAAjB,EAAoB1B,OAAOM,KAA3B,EAAkCN,OAAOO,MAAzC;AACAL,WAAIE,SAAJ,GAAgB,OAAhB;AACAF,WAAIG,QAAJ,CAAa,CAAb,EAAgB,CAAhB,EAAmBL,OAAOM,KAA1B,EAAiCN,OAAOO,MAAxC;;AAEA,YAAKc,MAAL,CAAYM,OAAZ,CAAoB,iBAAS;AAC3BC,eAAMC,IAAN,CAAW3B,GAAX;AACD,QAFD;;AAIA,YAAKqB,MAAL,CAAYM,IAAZ,CAAiB3B,GAAjB;;AAEA,YAAKoB,OAAL,CAAaK,OAAb,CAAqB,kBAAU;AAC7BG,gBAAOD,IAAP,CAAY3B,GAAZ;AACD,QAFD;AAGD;;;0BAEI6B,K,EAAO;AACV;AACA,YAAKT,OAAL,CAAaK,OAAb,CAAqB,kBAAU;AAC7BG,gBAAOE,IAAP,CAAYD,KAAZ;AACD,QAFD;;AAIA,YAAKV,MAAL,CAAYM,OAAZ,CAAoB,iBAAS;AAC3BC,eAAMI,IAAN,CAAWD,KAAX;AACD,QAFD;;AAIA;AACA,YAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAI,KAAKZ,MAAL,CAAYa,MAAhC,EAAwCD,GAAxC,EAA6C;AAC3C,cAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAI,KAAKb,OAAL,CAAaY,MAAjC,EAAyCC,GAAzC,EAA8C;AAC5C,eAAIP,QAAQ,KAAKP,MAAL,CAAYY,CAAZ,CAAZ;AACA,eAAIH,SAAS,KAAKR,OAAL,CAAaa,CAAb,CAAb;;AAEA,eAAIP,KAAJ,EAAW;AACTA,mBAAMQ,cAAN,CAAqBN,MAArB;AACD;;AAED,eAAIA,OAAOO,GAAP,CAAW,CAAX,IAAgBP,OAAOQ,IAAP,CAAY,CAAZ,CAAhB,GAAiC,CAArC,EAAwC;AACtC,kBAAKC,MAAL,CAAYT,MAAZ;AACD;AAEF;AACF;;AAED,WAAI,KAAKT,MAAL,CAAYa,MAAZ,KAAuB,CAA3B,EAA8B;AAC5B,aAAIM,KAAKC,MAAL,KAAgB,GAApB,EAAyB;AACvB,gBAAKC,YAAL;AACD,UAFD,MAEO;AACL,gBAAKjB,SAAL;AACD;AACF;AACF;;;iCAEW;AACV,WAAMkB,YAAY,CAAC,CAAC,EAAD,EAAK,EAAL,CAAD,EAAW,CAAC,GAAD,EAAM,EAAN,CAAX,EAAsB,CAAC,GAAD,EAAM,EAAN,CAAtB,EAAiC,CAAC,GAAD,EAAM,EAAN,CAAjC,CAAlB;AACA,WAAMC,WAAWJ,KAAKK,KAAL,CAAWL,KAAKC,MAAL,CAAY,CAAZ,CAAX,CAAjB;;AAEA,YAAK,IAAIR,IAAI,CAAb,EAAgBA,IAAI,CAApB,EAAuBA,GAAvB,EAA4B;AAC1B,cAAKZ,MAAL,CAAYyB,IAAZ,CAAiB,oBAAU,EAACT,KAAKM,UAAUV,CAAV,CAAN,EAAoBK,MAAM,EAA1B,EAA8B5B,MAAM,IAApC,EAAV,CAAjB;AACD;AACF;;;oCAEc;AACb,YAAKW,MAAL,CAAYyB,IAAZ,CAAiB,oBAAU,EAACC,OAAO,GAAR,EAAaV,KAAK,CAAC,EAAD,EAAK,CAAC,GAAN,CAAlB,EAA8BC,MAAM,GAApC,EAAyC5B,MAAM,IAA/C,EAAV,CAAjB;AACD;;;gCAEU;AACT,WAAMiC,YAAY,CAAC,CAAC,EAAD,EAAK,CAAL,CAAD,EAAU,CAAC,GAAD,EAAM,CAAN,CAAV,EAAoB,CAAC,GAAD,EAAM,CAAN,CAApB,EAA8B,CAAC,GAAD,EAAM,CAAN,CAA9B,CAAlB;AACA,WAAMC,WAAWJ,KAAKK,KAAL,CAAWL,KAAKC,MAAL,CAAY,CAAZ,CAAX,CAAjB;;AAEA,YAAKpB,MAAL,CAAYyB,IAAZ,CAAiB,oBAAU,EAACT,KAAKM,UAAUC,QAAV,CAAN,EAA2BN,MAAM,EAAjC,EAAqC5B,MAAM,IAA3C,EAAV,CAAjB;AACD;;;+BAESoB,M,EAAQ;AAChB,YAAKR,OAAL,CAAawB,IAAb,CAAkBhB,MAAlB;AACD;;;4BAEMkB,M,EAAQ;AACb,WAAIA,kCAAJ,EAA8B;AAC5B,cAAK1B,OAAL,CAAa2B,MAAb,CAAoB,KAAK3B,OAAL,CAAa4B,OAAb,CAAqBF,MAArB,CAApB,EAAkD,CAAlD;AACD,QAFD,MAEO,IAAIA,iCAAJ,EAA6B;AAClC,cAAK3B,MAAL,CAAY4B,MAAZ,CAAmB,KAAK5B,MAAL,CAAY6B,OAAZ,CAAoBF,MAApB,CAAnB,EAAgD,CAAhD;AACD,QAFM,MAEA;AACL,eAAM,MAAN;AACD;AACF;;;sCAEgB9C,G,EAAK;AAAA;;AACpB,WAAMyC,YAAY,CAAC,CAAC,EAAD,EAAK,GAAL,CAAD,EAAY,CAAC,GAAD,EAAM,GAAN,CAAZ,EAAwB,CAAC,GAAD,EAAM,GAAN,CAAxB,EAAoC,CAAC,GAAD,EAAM,GAAN,CAApC,EACC,CAAC,EAAD,EAAK,GAAL,CADD,EACY,CAAC,GAAD,EAAM,GAAN,CADZ,EACwB,CAAC,GAAD,EAAM,GAAN,CADxB,EACoC,CAAC,GAAD,EAAM,GAAN,CADpC,EAEC,CAAC,EAAD,EAAK,GAAL,CAFD,EAEY,CAAC,GAAD,EAAM,GAAN,CAFZ,EAEwB,CAAC,GAAD,EAAM,GAAN,CAFxB,EAEoC,CAAC,GAAD,EAAM,GAAN,CAFpC,CAAlB;;AAIA,WAAMQ,WAAWR,UAAUS,GAAV,CAAc;AAAA,gBAAY,oBAAU,EAACf,KAAKO,QAAN,EAAgBlC,WAAhB,EAA4B4B,MAAM,EAAlC,EAAV,CAAZ;AAAA,QAAd,CAAjB;;AAEAa,gBAASxB,OAAT,CAAiB;AAAA,gBAASC,MAAMC,IAAN,CAAW3B,GAAX,CAAT;AAAA,QAAjB;AACD;;;;;;mBAIYkB,I;;;;;;;;;;;;;;;;AChHf,KAAMiC,0BAA0B,OAAK,EAArC;;KAEMC,K;AACJ,kBAAYC,OAAZ,EAAqB;AAAA;;AACnB,UAAKlB,GAAL,GAAWkB,QAAQlB,GAAR,IAAe,CAAC,EAAD,EAAK,EAAL,CAA1B;AACA,UAAKC,IAAL,GAAYiB,QAAQjB,IAApB;AACA,UAAKkB,KAAL,GAAa,KAAKC,WAAL,EAAb;AACA,UAAKV,KAAL,GAAaQ,QAAQR,KAAR,IAAiB,EAA9B;AACA,UAAKrC,IAAL,GAAY6C,QAAQ7C,IAApB;AACA,UAAKgD,GAAL,GAAWH,QAAQG,GAAR,IAAe,CAAC,CAAD,EAAI,GAAJ,CAA1B;AACD;;;;mCAEa;AACZ,WAAMC,YAAY,kBAAlB;AACA,WAAIH,QAAQ,GAAZ;AACA,YAAK,IAAIvB,IAAI,CAAb,EAAgBA,IAAI,CAApB,EAAuBA,GAAvB,EAA4B;AAC1BuB,kBAASG,UAAUnB,KAAKK,KAAL,CAAYL,KAAKC,MAAL,KAAgB,EAA5B,CAAV,CAAT;AACD;;AAED,cAAOe,KAAP;AACD;;;0BAEItD,G,EAAK;AACRA,WAAIE,SAAJ,GAAgB,KAAKoD,KAArB;AACAtD,WAAIG,QAAJ,CAAa,KAAKgC,GAAL,CAAS,CAAT,CAAb,EAA0B,KAAKA,GAAL,CAAS,CAAT,CAA1B,EAAuC,KAAKC,IAA5C,EAAkD,KAAKA,IAAvD;AACD;;;oCAEcR,M,EAAQ;AACrB,WAAI,KAAKO,GAAL,CAAS,CAAT,IAAcP,OAAOO,GAAP,CAAW,CAAX,IAAgBP,OAAOQ,IAArC,IACH,KAAKD,GAAL,CAAS,CAAT,IAAc,KAAKC,IAAnB,GAA0BR,OAAOO,GAAP,CAAW,CAAX,CADvB,IAEH,KAAKA,GAAL,CAAS,CAAT,IAAc,KAAKC,IAAnB,GAA0BR,OAAOO,GAAP,CAAW,CAAX,CAF3B,EAE0C;AACvC,cAAKU,KAAL,IAAc,CAAd;;AAED,aAAI,KAAKA,KAAL,GAAa,CAAjB,EAAoB;AAClB,gBAAKS,KAAL,GAAa,KAAKC,WAAL,EAAb;AACD,UAFD,MAEO;AACL,gBAAK/C,IAAL,CAAU6B,MAAV,CAAiB,IAAjB;AACD;;AAEA,cAAK7B,IAAL,CAAU6B,MAAV,CAAiBT,MAAjB;AACD;AACH;;;0BAEI8B,S,EAAW;AAChB;AACA;AACA;AACA;AACA,WAAMC,gBAAgBD,YAAYP,uBAAlC;AAAA,WACIS,UAAU,KAAKJ,GAAL,CAAS,CAAT,IAAcG,aAD5B;AAAA,WAEIE,UAAU,KAAKL,GAAL,CAAS,CAAT,IAAcG,aAF5B;;AAIA,YAAKxB,GAAL,GAAW,CAAC,KAAKA,GAAL,CAAS,CAAT,IAAcyB,OAAf,EAAwB,KAAKzB,GAAL,CAAS,CAAT,IAAc0B,OAAtC,CAAX;AACC;;;;;;mBAKYT,K;;;;;;;;;;;;;;;;AC1Df,KAAMD,0BAA0B,OAAK,EAArC;;KAEMW,M;AACJ,mBAAYT,OAAZ,EAAqB;AAAA;;AACnB,UAAKlB,GAAL,GAAWkB,QAAQlB,GAAnB;AACA,UAAKqB,GAAL,GAAW,CAAC,CAAD,EAAI,CAAC,CAAL,CAAX;AACA,UAAKpB,IAAL,GAAY,CAAZ;AACA,UAAK5B,IAAL,GAAY6C,QAAQ7C,IAApB;AACA,UAAK8C,KAAL,GAAa,OAAb;AACD;;;;0BAEItD,G,EAAK;AACRA,WAAIE,SAAJ,GAAgB,KAAKoD,KAArB;AACAtD,WAAIG,QAAJ,CAAa,KAAKgC,GAAL,CAAS,CAAT,CAAb,EAA0B,KAAKA,GAAL,CAAS,CAAT,CAA1B,EAAuC,KAAKC,IAA5C,EAAkD,KAAKA,IAAvD;AACD;;;0BAEIsB,S,EAAW;AAChB;AACA;AACA;AACA;AACA,WAAMC,gBAAgBD,YAAYP,uBAAlC;AAAA,WACIS,UAAU,KAAKJ,GAAL,CAAS,CAAT,IAAcG,aAD5B;AAAA,WAEIE,UAAU,KAAKL,GAAL,CAAS,CAAT,IAAcG,aAF5B;;AAIA,YAAKxB,GAAL,GAAW,CAAC,KAAKA,GAAL,CAAS,CAAT,IAAcyB,OAAf,EAAwB,KAAKzB,GAAL,CAAS,CAAT,IAAc0B,OAAtC,CAAX;AACC;;;;;;mBAGYC,M;;;;;;;;;;;;;;AC7Bf;;;;;;;;KAEMC,M;AACJ,mBAAYV,OAAZ,EAAqB;AAAA;;AACnB,UAAKlB,GAAL,GAAW,CAAC,GAAD,EAAM,GAAN,CAAX;AACA,UAAK3B,IAAL,GAAY6C,QAAQ7C,IAApB;AACD;;;;0BAEIR,G,EAAK;AACR,WAAMgE,MAAMpE,SAASG,cAAT,CAAwB,MAAxB,CAAZ;AACAC,WAAIiE,SAAJ,CAAcD,GAAd,EAAmB,KAAK7B,GAAL,CAAS,CAAT,CAAnB,EAAgC,KAAKA,GAAL,CAAS,CAAT,CAAhC;AACD;;;kCAEY;AACX,WAAMP,SAAS,qBAAW;AACxBO,cAAK,CAAC,KAAKA,GAAL,CAAS,CAAT,IAAc,EAAf,EAAmB,KAAKA,GAAL,CAAS,CAAT,CAAnB,CADmB;AAExBqB,cAAK,CAAC,CAAD,EAAI,CAAJ,CAFmB;AAGxBhD,eAAM,KAAKA;AAHa,QAAX,CAAf;;AAMA,YAAKA,IAAL,CAAU0D,SAAV,CAAoBtC,MAApB;AACD;;;0BAEIuC,S,EAAW;AACd,YAAKhC,GAAL,CAAS,CAAT,KAAegC,SAAf;AACA,WAAI,KAAKhC,GAAL,CAAS,CAAT,IAAcrC,OAAOM,KAAzB,EAAgC;AAC9B,cAAK+B,GAAL,CAAS,CAAT,IAAc,CAAd;AACD,QAFD,MAEO,IAAI,KAAKA,GAAL,CAAS,CAAT,IAAc,CAAlB,EAAsB;AAC3B,cAAKA,GAAL,CAAS,CAAT,IAAcrC,OAAOM,KAArB;AACD;AACF;;;;;;mBAKY2D,M;;;;;;;;;;;;;;;;KCnCTK,Q;AACJ,qBAAY5D,IAAZ,EAAkBR,GAAlB,EAAuB;AAAA;;AACrB,UAAKA,GAAL,GAAWA,GAAX;AACA,UAAKQ,IAAL,GAAYA,IAAZ;AACA,UAAKa,MAAL,GAAcb,KAAKa,MAAnB;AACD;;;;uCAEiB;AAAA;;AAChBgD,WAAI,OAAJ,EAAa,YAAM;AAAE,eAAKhD,MAAL,CAAYiD,UAAZ;AAA0B,QAA/C;AACAD,WAAI,GAAJ,EAAS,YAAM;AAAE,eAAKhD,MAAL,CAAYS,IAAZ,CAAiB,CAAC,EAAlB;AAAuB,QAAxC;AACAuC,WAAI,GAAJ,EAAS,YAAM;AAAE,eAAKhD,MAAL,CAAYS,IAAZ,CAAiB,EAAjB;AAAsB,QAAvC;AACD;;;6BAEO;AACN,YAAKyC,eAAL;AACA,YAAKC,QAAL,GAAgB,CAAhB;AACA;AACAC,6BAAsB,KAAKC,OAAL,CAAa5D,IAAb,CAAkB,IAAlB,CAAtB;AACD;;;6BAEO6D,I,EAAM;AACZ,WAAMjB,YAAYiB,OAAO,KAAKH,QAA9B;;AAEA,YAAKhE,IAAL,CAAUoE,IAAV,CAAelB,SAAf;AACA,YAAKlD,IAAL,CAAUmB,IAAV,CAAe,KAAK3B,GAApB;AACA,YAAKwE,QAAL,GAAgBG,IAAhB;;AAEA;AACAF,6BAAsB,KAAKC,OAAL,CAAa5D,IAAb,CAAkB,IAAlB,CAAtB;AACD;;;;;;mBAGYsD,Q","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ecd972e17e8b6ed7c824","import Game from './game';\nimport GameView from './game_view';\n\n\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  var canvas = document.getElementById(\"canvas\");\n  var ctx = canvas.getContext(\"2d\");\n  ctx.fillStyle = \"black\";\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n  ctx.font = \"48px sans-serif\";\n  ctx.fillStyle = \"white\";\n  ctx.fillText(\"Press Enter to Start\", 100, 100);\n\n  const game = new Game();\n  const gameView = new GameView(game, ctx)\n\n  const drawBlocks = ctx => {\n    game.backgroundBlocks(ctx);\n  }\n\n  window.setInterval(drawBlocks.bind(this, ctx), 180);\n\n\n  document.addEventListener(\"keydown\", e => {\n    if (e.keyCode === 13) {\n      gameView.start();\n    }\n  });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/iloveblocks.js","import Block from './block';\nimport Bullet from './bullet';\nimport Cannon from './cannon';\n\nclass Game {\n  constructor() {\n    this.blocks = [];\n    this.bullets = [];\n    this.cannon = new Cannon({game: this});\n    this.score = 0;\n\n    this.addBlocks();\n  }\n\n  draw(ctx) {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.fillStyle = 'black';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n    this.blocks.forEach(block => {\n      block.draw(ctx);\n    });\n\n    this.cannon.draw(ctx);\n\n    this.bullets.forEach(bullet => {\n      bullet.draw(ctx);\n    });\n  }\n\n  step(delta) {\n    // move objects\n    this.bullets.forEach(bullet => {\n      bullet.move(delta);\n    });\n\n    this.blocks.forEach(block => {\n      block.move(delta);\n    });\n\n    //check collisions\n    for (var i = 0; i < this.blocks.length; i++) {\n      for (var j = 0; j < this.bullets.length; j++) {\n        let block = this.blocks[i];\n        let bullet = this.bullets[j];\n\n        if (block) {\n          block.isCollidedWith(bullet)\n        }\n\n        if (bullet.pos[1] - bullet.size[1] < 0) {\n          this.remove(bullet);\n        }\n\n      }\n    }\n\n    if (this.blocks.length === 0) {\n      if (Math.random() < 0.3) {\n        this.addBossBlock();\n      } else {\n        this.addBlocks();\n      }\n    }\n  }\n\n  addBlocks() {\n    const positions = [[50, 10], [200, 10], [350, 10], [500, 10]];\n    const position = Math.floor(Math.random(5));\n\n    for (let i = 0; i < 4; i++) {\n      this.blocks.push(new Block({pos: positions[i], size: 50, game: this}));\n    }\n  }\n\n  addBossBlock() {\n    this.blocks.push(new Block({count: 200, pos: [50, -400], size: 400, game: this}));\n  }\n\n  addBlock() {\n    const positions = [[50, 0], [200, 0], [350, 0], [500, 0]];\n    const position = Math.floor(Math.random(5));\n\n    this.blocks.push(new Block({pos: positions[position], size: 50, game: this}));\n  }\n\n  addBullet(bullet) {\n    this.bullets.push(bullet);\n  }\n\n  remove(object) {\n    if (object instanceof Bullet) {\n      this.bullets.splice(this.bullets.indexOf(object), 1);\n    } else if (object instanceof Block) {\n      this.blocks.splice(this.blocks.indexOf(object), 1);\n    } else {\n      throw \"wtf?\";\n    }\n  }\n\n  backgroundBlocks(ctx) {\n    const positions = [[60, 150], [210, 150], [360, 150], [510, 150],\n                       [60, 260], [210, 260], [360, 260], [510, 260],\n                       [60, 370], [210, 370], [360, 370], [510, 370]];\n\n    const bgBlocks = positions.map(position => new Block({pos: position, game: this, size: 50}));\n\n    bgBlocks.forEach(block => block.draw(ctx));\n  }\n\n}\n\nexport default Game;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/game.js","const NORMAL_FRAME_TIME_DELTA = 1000/60;\n\nclass Block {\n  constructor(options) {\n    this.pos = options.pos || [10, 10];\n    this.size = options.size;\n    this.color = this.randomColor();\n    this.count = options.count || 10;\n    this.game = options.game;\n    this.vel = options.vel || [0, 0.3];\n  }\n\n  randomColor() {\n    const hexDigits = \"0123456789ABCDEF\";\n    let color = \"#\";\n    for (let i = 0; i < 3; i++) {\n      color += hexDigits[Math.floor((Math.random() * 16))];\n    }\n\n    return color;\n  }\n\n  draw(ctx) {\n    ctx.fillStyle = this.color;\n    ctx.fillRect(this.pos[0], this.pos[1], this.size, this.size);\n  }\n\n  isCollidedWith(bullet) {\n    if (this.pos[0] < bullet.pos[0] + bullet.size &&\n     this.pos[0] + this.size > bullet.pos[0] &&\n     this.pos[1] + this.size > bullet.pos[1]) {\n       this.count -= 1\n\n      if (this.count > 0) {\n        this.color = this.randomColor();\n      } else {\n        this.game.remove(this);\n      }\n\n       this.game.remove(bullet);\n     }\n  }\n\n  move(timeDelta) {\n  //timeDelta is number of milliseconds since last move\n  //if the computer is busy the time delta will be larger\n  //in this case the MovingObject should move farther in this frame\n  //velocity of object is how far it should move in 1/60th of a second\n  const velocityScale = timeDelta / NORMAL_FRAME_TIME_DELTA,\n      offsetX = this.vel[0] * velocityScale,\n      offsetY = this.vel[1] * velocityScale;\n\n  this.pos = [this.pos[0] + offsetX, this.pos[1] + offsetY];\n  }\n\n\n}\n\nexport default Block;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/block.js","const NORMAL_FRAME_TIME_DELTA = 1000/60;\n\nclass Bullet {\n  constructor(options) {\n    this.pos = options.pos;\n    this.vel = [0, -2];\n    this.size = 5;\n    this.game = options.game;\n    this.color = 'white';\n  }\n\n  draw(ctx) {\n    ctx.fillStyle = this.color;\n    ctx.fillRect(this.pos[0], this.pos[1], this.size, this.size);\n  }\n\n  move(timeDelta) {\n  //timeDelta is number of milliseconds since last move\n  //if the computer is busy the time delta will be larger\n  //in this case the MovingObject should move farther in this frame\n  //velocity of object is how far it should move in 1/60th of a second\n  const velocityScale = timeDelta / NORMAL_FRAME_TIME_DELTA,\n      offsetX = this.vel[0] * velocityScale,\n      offsetY = this.vel[1] * velocityScale;\n\n  this.pos = [this.pos[0] + offsetX, this.pos[1] + offsetY];\n  }\n}\n\nexport default Bullet;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/bullet.js","import Bullet from './bullet';\n\nclass Cannon {\n  constructor(options) {\n    this.pos = [320, 400];\n    this.game = options.game;\n  }\n\n  draw(ctx) {\n    const img = document.getElementById('char');\n    ctx.drawImage(img, this.pos[0], this.pos[1]);\n  }\n\n  fireBullet() {\n    const bullet = new Bullet({\n      pos: [this.pos[0] + 35, this.pos[1]],\n      vel: [0, 1],\n      game: this.game\n    });\n\n    this.game.addBullet(bullet);\n  }\n\n  move(direction) {\n    this.pos[0] += direction\n    if (this.pos[0] > canvas.width) {\n      this.pos[0] = 0;\n    } else if (this.pos[0] < 0 ) {\n      this.pos[0] = canvas.width;\n    }\n  }\n\n\n}\n\nexport default Cannon;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/cannon.js","class GameView {\n  constructor(game, ctx) {\n    this.ctx = ctx;\n    this.game = game;\n    this.cannon = game.cannon\n  }\n\n  bindKeyHandlers() {\n    key(\"space\", () => { this.cannon.fireBullet() });\n    key(\"a\", () => { this.cannon.move(-20) });\n    key(\"d\", () => { this.cannon.move(20) });\n  }\n\n  start() {\n    this.bindKeyHandlers();\n    this.lastTime = 0;\n    //start the animation\n    requestAnimationFrame(this.animate.bind(this));\n  }\n\n  animate(time) {\n    const timeDelta = time - this.lastTime;\n\n    this.game.step(timeDelta);\n    this.game.draw(this.ctx);\n    this.lastTime = time;\n\n    //every call to animate requests causes another call to animate\n    requestAnimationFrame(this.animate.bind(this));\n  }\n}\n\nexport default GameView;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/game_view.js"],"sourceRoot":""}